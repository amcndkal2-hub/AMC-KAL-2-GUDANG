PRAGMA defer_foreign_keys=TRUE;
CREATE TABLE d1_migrations(
		id         INTEGER PRIMARY KEY AUTOINCREMENT,
		name       TEXT UNIQUE,
		applied_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
INSERT INTO "d1_migrations" VALUES(1,'0001_initial_schema.sql','2026-01-21 08:15:16');
INSERT INTO "d1_migrations" VALUES(2,'0002_seed_data.sql','2026-01-21 08:15:16');
INSERT INTO "d1_migrations" VALUES(3,'0003_add_sessions_table.sql','2026-01-21 08:58:55');
INSERT INTO "d1_migrations" VALUES(4,'0004_add_gangguan_details.sql','2026-01-22 00:26:00');
CREATE TABLE transactions (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  nomor_ba TEXT UNIQUE NOT NULL,
  tanggal DATE NOT NULL,
  jenis_transaksi TEXT NOT NULL,
  lokasi_asal TEXT NOT NULL,
  lokasi_tujuan TEXT NOT NULL,
  pemeriksa TEXT NOT NULL,
  penerima TEXT NOT NULL,
  ttd_pemeriksa TEXT,
  ttd_penerima TEXT,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
INSERT INTO "transactions" VALUES(1,'BA-2025-001','2025-01-15','Keluar','GUDANG KAL 2','BABAI','MUCHLIS ADITYA ANHAR','RIVALDO RENIER T',NULL,NULL,'2026-01-21 08:15:16','2026-01-21 08:15:16');
CREATE TABLE materials (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  transaction_id INTEGER NOT NULL,
  part_number TEXT NOT NULL,
  jenis_barang TEXT,
  material TEXT,
  mesin TEXT,
  sn_mesin TEXT,
  jumlah INTEGER NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (transaction_id) REFERENCES transactions(id) ON DELETE CASCADE
);
INSERT INTO "materials" VALUES(1,1,'1319257','MATERIAL HANDAL','FILTER INSERT','F6L912','SN-F6L-001',5,'2026-01-21 08:15:16');
INSERT INTO "materials" VALUES(2,1,'2105420','FILTER','FILTER INSERT','F10L413','SN-F10-002',3,'2026-01-21 08:15:16');
CREATE TABLE gangguan (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  nomor_lh05 TEXT UNIQUE NOT NULL,
  tanggal_laporan DATE NOT NULL,
  jenis_gangguan TEXT NOT NULL,
  lokasi_gangguan TEXT NOT NULL,
  user_laporan TEXT NOT NULL,
  status TEXT DEFAULT 'Open',
  catatan_tindakan TEXT,
  rencana_perbaikan TEXT,
  ttd_teknisi TEXT,
  ttd_supervisor TEXT,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
, komponen_rusak TEXT, gejala TEXT, uraian_kejadian TEXT, analisa_penyebab TEXT, kesimpulan TEXT, beban_puncak REAL, daya_mampu REAL, pemadaman TEXT, kelompok_spd TEXT);
INSERT INTO "gangguan" VALUES(1,'LH05-2025-001','2025-01-15','Kerusakan Mesin','BABAI','Teknisi AMC','Open',NULL,NULL,NULL,NULL,'2026-01-21 08:15:16','2026-01-21 08:15:16',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL);
INSERT INTO "gangguan" VALUES(4,'0001/ND KAL 2/LH05/2025','2026-01-21T10:00','Test Component','TELAGA','Test Reporter','Open','Test tindakan','Test rencana','data:image/png;base64,test','','2026-01-21 08:28:48','2026-01-21 08:28:48',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL);
INSERT INTO "gangguan" VALUES(5,'0002/ND KAL 2/LH05/2025','2026-01-21T12:00','AVR','TELAGA','Test User','Open','Isolasi sementara','Ganti AVR dalam 12 jam','data:image/png;base64,test','','2026-01-21 08:35:17','2026-01-21 08:35:17',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL);
INSERT INTO "gangguan" VALUES(6,'0003/ND KAL 2/LH05/2025','2026-01-21T14:00','Pressure Gauge','BABAI','Tech Support','Open','Gunakan gauge backup','Kalibrasi gauge dalam 3 hari','data:image/png;base64,test','','2026-01-21 09:17:44','2026-01-21 09:17:44',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL);
INSERT INTO "gangguan" VALUES(7,'0004/ND KAL 2/LH05/2025','2026-01-21T23:54','a','MARABATUAN','d','Open','1','w','data:image/png;base64,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','','2026-01-21 23:54:43','2026-01-21 23:54:43',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL);
INSERT INTO "gangguan" VALUES(8,'0005/ND KAL 2/LH05/2025','2026-01-21T15:00','AVR','BABAI','Test User','Open','Test tindakan','Test rencana','data:image/png;base64,test','','2026-01-21 23:58:27','2026-01-21 23:58:27',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL);
INSERT INTO "gangguan" VALUES(9,'0006/ND KAL 2/LH05/2025','2026-01-22T00:02','Piston','KUDANGAN','fdv','Open','2','2','data:image/png;base64,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','','2026-01-22 00:02:57','2026-01-22 00:02:57',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL);
INSERT INTO "gangguan" VALUES(10,'0007/ND KAL 2/LH05/2025','2026-01-22T08:00','ELEKTRIK','TELAGA','Test Engineer','Open','Isolasi unit dan gunakan genset backup','Ganti AVR dalam 24 jam','data:image/png;base64,test','','2026-01-22 00:26:56','2026-01-22 00:26:56','Generator AVR','Voltage tidak stabil, fluktuasi tinggi','AVR generator rusak menyebabkan voltage output tidak stabil','AVR sudah berumur 5 tahun tanpa maintenance','Perlu penggantian AVR segera',450,400,'NORMAL','ELEKTRIK');
INSERT INTO "gangguan" VALUES(11,'0008/ND KAL 2/LH05/2025','2026-01-22T00:30','MEKANIK','MENDAWAI','qw','Open','12','12','data:image/png;base64,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','','2026-01-22 00:31:14','2026-01-22 00:31:14','q','q','q','q','q',500,700,'NORMAL','MEKANIK');
CREATE TABLE material_gangguan (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  gangguan_id INTEGER NOT NULL,
  part_number TEXT NOT NULL,
  material TEXT,
  mesin TEXT,
  jumlah INTEGER NOT NULL,
  status TEXT DEFAULT 'Pengadaan',
  unit_uld TEXT,
  lokasi_tujuan TEXT,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (gangguan_id) REFERENCES gangguan(id) ON DELETE CASCADE
);
INSERT INTO "material_gangguan" VALUES(1,1,'1319257','FILTER INSERT','F6L912',2,'Pengadaan','BABAI','BABAI','2026-01-21 08:15:16','2026-01-21 08:15:16');
INSERT INTO "material_gangguan" VALUES(2,1,'2105420','FILTER INSERT','F10L413',1,'Pengadaan','BABAI','BABAI','2026-01-21 08:15:16','2026-01-21 08:15:16');
INSERT INTO "material_gangguan" VALUES(4,4,'TEST-PART-001','TEST MATERIAL','TEST ENGINE',5,'Pengadaan','TELAGA','TELAGA','2026-01-21 08:28:48','2026-01-21 08:28:48');
INSERT INTO "material_gangguan" VALUES(5,5,'AVR-001','AVR UNIT','TCD 2013',1,'Pengadaan','TELAGA','TELAGA','2026-01-21 08:35:17','2026-01-21 08:35:17');
INSERT INTO "material_gangguan" VALUES(6,6,'PG-001','PRESSURE GAUGE','Boiler System',1,'Pengadaan','BABAI','BABAI','2026-01-21 09:17:44','2026-01-21 09:17:44');
INSERT INTO "material_gangguan" VALUES(7,7,'51.12503-0059','FILTER BBM','MAN D 2842 LE 201',1,'Pengadaan','MARABATUAN','MARABATUAN','2026-01-21 23:54:43','2026-01-21 23:54:43');
INSERT INTO "material_gangguan" VALUES(8,8,'TEST-001','TEST MATERIAL','TEST ENGINE',1,'Pengadaan','BABAI','BABAI','2026-01-21 23:58:27','2026-01-21 23:58:27');
INSERT INTO "material_gangguan" VALUES(9,9,'51.12503-0059','FILTER BBM','MAN D 2842 LE 201',1,'Pengadaan','KUDANGAN','KUDANGAN','2026-01-22 00:02:57','2026-01-22 00:02:57');
INSERT INTO "material_gangguan" VALUES(10,10,'AVR-GEN-001','AVR Generator','Caterpillar 3512',1,'Pengadaan','TELAGA','TELAGA','2026-01-22 00:26:56','2026-01-22 00:26:56');
INSERT INTO "material_gangguan" VALUES(11,11,'51.12503-0059','FILTER BBM','MAN D 2842 LE 201',1,'Pengadaan','MENDAWAI','MENDAWAI','2026-01-22 00:31:14','2026-01-22 00:31:14');
CREATE TABLE sessions (
  session_token TEXT PRIMARY KEY,
  username TEXT NOT NULL,
  role TEXT NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  expires_at DATETIME NOT NULL
);
INSERT INTO "sessions" VALUES('session_1768986088806_cw216c','AMC@12345','user','2026-01-21 09:01:28','2026-01-21T17:01:28.806Z');
INSERT INTO "sessions" VALUES('session_1769051556615_wre3b8','AMC@12345','user','2026-01-22 03:12:36','2026-01-22T11:12:36.615Z');
DELETE FROM sqlite_sequence;
INSERT INTO "sqlite_sequence" VALUES('d1_migrations',4);
INSERT INTO "sqlite_sequence" VALUES('transactions',1);
INSERT INTO "sqlite_sequence" VALUES('materials',2);
INSERT INTO "sqlite_sequence" VALUES('gangguan',11);
INSERT INTO "sqlite_sequence" VALUES('material_gangguan',11);
CREATE INDEX idx_transactions_nomor_ba ON transactions(nomor_ba);
CREATE INDEX idx_transactions_tanggal ON transactions(tanggal);
CREATE INDEX idx_transactions_jenis ON transactions(jenis_transaksi);
CREATE INDEX idx_transactions_lokasi_asal ON transactions(lokasi_asal);
CREATE INDEX idx_transactions_lokasi_tujuan ON transactions(lokasi_tujuan);
CREATE INDEX idx_materials_transaction_id ON materials(transaction_id);
CREATE INDEX idx_materials_part_number ON materials(part_number);
CREATE INDEX idx_materials_mesin ON materials(mesin);
CREATE INDEX idx_gangguan_nomor_lh05 ON gangguan(nomor_lh05);
CREATE INDEX idx_gangguan_tanggal ON gangguan(tanggal_laporan);
CREATE INDEX idx_gangguan_status ON gangguan(status);
CREATE INDEX idx_gangguan_lokasi ON gangguan(lokasi_gangguan);
CREATE INDEX idx_material_gangguan_gangguan_id ON material_gangguan(gangguan_id);
CREATE INDEX idx_material_gangguan_part_number ON material_gangguan(part_number);
CREATE INDEX idx_material_gangguan_status ON material_gangguan(status);
CREATE INDEX idx_sessions_username ON sessions(username);
CREATE INDEX idx_sessions_expires_at ON sessions(expires_at);
CREATE INDEX idx_gangguan_kelompok_spd ON gangguan(kelompok_spd);
CREATE INDEX idx_gangguan_komponen_rusak ON gangguan(komponen_rusak);
CREATE TRIGGER transactions_updated_at 
AFTER UPDATE ON transactions
BEGIN
  UPDATE transactions SET updated_at = CURRENT_TIMESTAMP WHERE id = NEW.id;
END;
CREATE TRIGGER gangguan_updated_at 
AFTER UPDATE ON gangguan
BEGIN
  UPDATE gangguan SET updated_at = CURRENT_TIMESTAMP WHERE id = NEW.id;
END;
CREATE TRIGGER material_gangguan_updated_at 
AFTER UPDATE ON material_gangguan
BEGIN
  UPDATE material_gangguan SET updated_at = CURRENT_TIMESTAMP WHERE id = NEW.id;
END;